

{% if include.limit > 0 %}
<aside class='recent posts'>
<h5 class=''>Recent Posts</h5>
<ul class='standard'>
  <!-- Jekyll provides these in reverse-chronological order anyway. -->
  {% assign posts = site.posts|group_by:'date.year' %}

  {% for g in posts limit:2 %}
  <!-- for year {{ g.name }} -->

	{% for post in g.items limit:{include.limit} %}
	{% if (post.tags contains 'draft') or (post.published==false) %}{% continue %}{% endif %}
	<li class='postlink'>


		<a href='{{ post.url }}'>
		<span class='date'>{{ post.date |date:"%d. %b %Y" }}</span>
		{{ post.title }}
		</a>

		{% if include.with_tags %}
		<div class='taglist'>
		<span class='category'>{{post.categories|join:"/"}}</span>
		{% for tag in post.tags limit:10 %}
			<span class='tag'>{{tag}}</span>
		{% endfor %}
		</div>
		{% endif %}

		{% if post.excerpt and (include.excerpt) %}
		<span class='excerpt'>{{ post.excerpt |markdownify }}</span>
		{% endif %}
	</li>
  	{% endfor %}

  {% endfor %}

</ul>
</aside>
{% else %}
	<!-- recent posts disabled -->
{% endif %}
